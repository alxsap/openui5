<!DOCTYPE html>
<html lang="en">

<head><meta charset="utf-8">
	<title>CSRF Tokens</title>
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<script src="../../../scripts/boot.js"></script>
</head>

<body class="sapUiBody topicBody">

	<div class="topic">
		<div class="content">
			<h1 id="overview">CSRF Tokens</h1>
			<p>
				A CSRF (Cross Site Request Forgery) Token is a secret, unique and unpredictable value that
				server-side application generates in order to protect CSRF vulnerable resources.

				The tokens are generated and submitted by the server-side
				application in a subsequent HTTP request made by the client.
			</p>
			<p>
				Card developers describe the CSRF tokens in the <code>configuration/csrfTokens</code> subsection of the manifest.
				These tokens can be referred inside a data request using a binding syntax like
				<code>{csrfTokens&gt;/myCSRFToken/value}</code>.
			</p>

			<h2 id="properties">CSRF Token Properties</h2>
			<div class="tableWrapper">
				<table>
					<tr>
						<th>Property</th>
						<th>Type</th>
						<th>Required</th>
						<th>Description</th>
						<th>Schema Version</th>
						<th>Since</th>
					</tr>
					<tr>
						<td>data</td>
						<td><a href="../../../index.html#/learn/features/data" target="_parent">Data</a></td>
						<td>Yes</td>
						<td>
							Data request to obtain the token.
							<br>
							<b>Note:</b> By default the token will be taken from the <code>X-CSRF-Token</code> response header.
						</td>
						<td>1.38.0</td>
						<td>1.97</td>
					</tr>
				</table>
			</div>

			<h2 id="csrfTokensModel">CSRF Tokens Model</h2>
			<p>The following values are available for every CSRF token and can be used in data requests:</p>
			<table>
				<tr>
					<th>Path</th>
					<th>Description</th>
					<th>Schema Version</th>
					<th>Since</th>
				</tr>
				<tr>
					<td>{csrfTokens&gt;/keyOfTheToken/value}</td>
					<td>The value of the token.</td>
					<td>1.62.0</td>
					<td>1.121</td>
				</tr>
			</table>

			<p>
				<b>Note:</b> The syntax <code>{{csrfTokens.myCSRFToken}} is deprecated as of version 1.121.0.</code>
			</p>

			<h2 id="examples">Example</h2>
			<p>An example with a card which fetches data and uses CSRF Tokens:</p>
			<pre class="lang-json">
&quot;sap.card&quot;: {
	&quot;type&quot;: &quot;List&quot;,
	&quot;configuration&quot;: {
		&quot;destinations&quot;: {
			&quot;ProductsMockServerWithCSRF&quot;: {
				&quot;name&quot;: &quot;ProductsMockServerWithCSRF&quot;,
				&quot;label&quot;: &quot;Products Mock CSRF&quot;,
				&quot;defaultUrl&quot;: &quot;/getDataWithCSRF&quot;
			}
		},
		<mark>&quot;csrfTokens&quot;: {
			&quot;token1&quot;: {
				&quot;data&quot;: {
					&quot;request&quot;: {
						&quot;url&quot;: &quot;{{destinations.ProductsMockServerWithCSRF}}/Token&quot;,
						&quot;method&quot;: &quot;HEAD&quot;,
						&quot;headers&quot;: {
							&quot;X-CSRF-Token&quot;: &quot;Fetch&quot;
						}
					}
				}
			}
		}</mark>
	},
	&quot;data&quot;: {
		&quot;request&quot;: {
			&quot;url&quot;: &quot;{{destinations.ProductsMockServerWithCSRF}}/Products&quot;,
			&quot;parameters&quot;: {
				&quot;&#x24;format&quot;: &quot;json&quot;
			},
			&quot;method&quot;: &quot;GET&quot;,
			<mark>&quot;headers&quot;: {
				&quot;X-CSRF-Token&quot;: &quot;{csrfTokens&gt;/token1/value}&quot;
			}</mark>
		},
		&quot;path&quot;: &quot;/data&quot;
	},
	&quot;header&quot;: {
		&quot;title&quot;: &quot;Products&quot;,
		&quot;subTitle&quot;: &quot;Weight Information&quot;,
		&quot;icon&quot;: {
			&quot;src&quot;: &quot;sap-icon://product&quot;
		}
	},
	&quot;content&quot;: {
		&quot;item&quot;: {
			&quot;title&quot;: &quot;{Name}&quot;,
			&quot;info&quot;: {
				&quot;value&quot;: &quot;{= format.unit(&#x24;{Weight}, &#x24;{WeightUnit})}&quot;
			}
		},
		&quot;maxItems&quot;: 4
	}
}</pre>
			<a class="try-button" href="../../../index.html#/explore/data/csrf" target="_parent">Try it Out</a>
		</div>
	</div>
</body>

</html>